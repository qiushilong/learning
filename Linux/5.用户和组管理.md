# 用户和组的管理

Linux 系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首相向系统管理员申请一个账号，然后以这个账号的身份进入系统。

用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问。另一方面也可以帮助用户组织文件，并为用户提供安全性保证。

每个用户账号都拥有一个唯一的用户名和各自的口令。

用户在登陆时键入正确的用户名和口令后，就能够进入系统和自己的主目录。

实现用户账号的管理，要完成的工作主要有以下几个方面：

- 用户账号的添加，删除，和修改。
- 用户口令的管理。
- 用户组的管理。



## 用户管理

### 添加账号

```bash
# useradd 选项 用户名
# -c comment：指定一段注释性的描述
# -d 目录：指定用户主目录，如果此目录不存在，可以同时指定 -m 选项，同时创建主目录
# -g 用户组：指定用户所属的用户组
# -G 用户组：用户组指定用户所属的附加组
# -s Shell文件：指定用户登录用的 Shell
# -u 用户号：指定用户的用户号

useradd -d /home/sam -m sam
```

### 删除账号

```bash
# userdel 选项 用户名
# -r：同时删除用户目录
# ...
```

### 设置口令

用户管理的一项重要内容是用户口令的管理。用户账号刚创建时没有口令，但是被系统锁定，无法使用。必须为其指定口令后才可以使用，即使指定的是空口令。

```bash
# passwd 选项 用户名
# -l 锁定口令：禁用账号
# -u 口令解锁
# -d 使账号无口令
# -f 强制用户下次登录时修改口令

passwd sam
# New password:
# Retype new password: 
# passwd: password updated successfully

# root 用户可以直接指定所有用户的口令
# 普通用户修改自己口令时，需要输入之前的口令
```



## 用户组管理

每个用户都有一个用户组，系统可以对一个用户组中所有用户进行集中管理。不同 Linux 系统对用户组的规定不同，如 Linux 下的用户属于与他同名的用户组，这个用户组在创建用户时同时创建。

用户组的管理涉及用户组的添加，删除，和修改。

### 增加组

```bash
# groupadd 选项 用户组
# -g GID：指定用户组的标识号
# -o：一般与 -g 选项同时使用，表示用户组的 GID 可以与系统已有用户组的 GID 相同
groupadd group1
```



### 删除组

```bash
# groupdel 用户组
```



### 修改用户组

```bash
# groupmod 选项 用户组
```

